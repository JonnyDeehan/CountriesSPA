(function(Ge,Oe){var ze=typeof exports=="object";if(typeof define=="function"&&define.amd)define(["@ag-grid-community/core","react","react-dom"],Oe);else if(typeof module=="object"&&module.exports)module.exports=Oe(require("@ag-grid-community/core"),require("react"),require("react-dom"));else{var be=ze?Oe(require("@ag-grid-community/core"),require("react"),require("react-dom")):Oe(Ge["@ag-grid-community/core"],Ge.react,Ge["react-dom"]),Re=ze?exports:Ge;for(var Te in be)Re[Te]=be[Te]}})(typeof self<"u"?self:this,(Ge,Oe,ze)=>{var be={},Re={exports:be},Te=Object.create,Ne=Object.defineProperty,St=Object.getOwnPropertyDescriptor,bt=Object.getOwnPropertyNames,Et=Object.getPrototypeOf,Pt=Object.prototype.hasOwnProperty,Mt=(e,t)=>{for(var r in t)Ne(e,r,{get:t[r],enumerable:!0})},rt=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of bt(t))!Pt.call(e,n)&&n!==r&&Ne(e,n,{get:()=>t[n],enumerable:!(s=St(t,n))||s.enumerable});return e},X=(e,t,r)=>(r=e!=null?Te(Et(e)):{},rt(t||!e||!e.__esModule?Ne(r,"default",{value:e,enumerable:!0}):r,e)),kt=e=>rt(Ne({},"__esModule",{value:!0}),e),st={};Mt(st,{AgGridReact:()=>zr,CustomComponentContext:()=>De,getInstance:()=>or,useGridCellEditor:()=>$r,useGridDate:()=>Jr,useGridFilter:()=>Kr,useGridFloatingFilter:()=>Qr,useGridMenuItem:()=>Yr,warnReactiveCustomComponents:()=>Le}),Re.exports=kt(st);var nt=X(require("react"),1),ye=require("@ag-grid-community/core"),G=X(require("react"),1),Ft=require("@ag-grid-community/core"),I=X(require("react"),1),Gt=X(require("react"),1),$e=X(require("react-dom"),1),Je=require("@ag-grid-community/core"),Ie=X(require("react"),1),Ot=require("react"),_e=require("@ag-grid-community/core"),It=require("react"),_t=require("react-dom"),xt=require("@ag-grid-community/core"),ot=require("@ag-grid-community/core"),At=require("@ag-grid-community/core"),W=X(require("react"),1),ve=require("@ag-grid-community/core"),b=X(require("react"),1),Dt=require("@ag-grid-community/core"),ue=X(require("react"),1),Bt=require("@ag-grid-community/core"),ne=X(require("react"),1),at=require("@ag-grid-community/core"),oe=X(require("react"),1),Ke=require("@ag-grid-community/core"),re=X(require("react"),1),Wt=require("@ag-grid-community/core"),A=X(require("react"),1),j=X(require("react"),1),Tt=require("react"),ct=require("@ag-grid-community/core"),$=X(require("react"),1),Nt=require("@ag-grid-community/core"),_=X(require("react"),1),lt=require("@ag-grid-community/core"),f=X(require("react"),1),Ht=require("@ag-grid-community/core"),xe=X(require("react"),1),Ut=require("react-dom"),Ee=require("react"),He=require("react"),Ue=require("@ag-grid-community/core"),ie=X(require("react"),1),qt=require("@ag-grid-community/core"),Lt=require("react"),ae=Gt.default.createContext({}),Ae=(e,t,r,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const a=e.newAgStackInstance();if(a==null)return;let c,o,u=!1;return a.then(l=>{if(u){t.destroyBean(l);return}c=l,o=c.getGui(),r.appendChild(o),ut(s,c)}),()=>{u=!0,c&&(o&&o.parentElement&&o.parentElement.removeChild(o),t.destroyBean(c),s&&ut(s,void 0))}},ut=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},me=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),pe=class wt{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const n=new wt;return n.classesMap={...this.classesMap},n.classesMap[t]=r,n}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},Pe=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},it=$e.default.createRoot!=null&&$e.default.flushSync!=null;function Vt(){return!it}var qe=!1;function jt(e){return qe||setTimeout(()=>qe=!1,0),qe=!0,e()}var Qe=(e,t)=>{it&&e&&!qe?$e.default.flushSync(t):t()};function Ye(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const s=[],n=[],a=new Map,c=new Map;for(let o=0;o<t.length;o++){const u=t[o];c.set(u.getInstanceId(),u)}for(let o=0;o<e.length;o++){const u=e[o];a.set(u.getInstanceId(),u),c.has(u.getInstanceId())&&s.push(u)}for(let o=0;o<t.length;o++){const u=t[o],l=u.getInstanceId();a.has(l)||n.push(u)}return s.length===e.length&&n.length===0?e:s.length===0&&n.length===t.length?t:s.length===0?n:n.length===0?s:[...s,...n]}var dt=(0,I.forwardRef)((e,t)=>{const{ctrlsFactory:r,context:s}=(0,I.useContext)(ae),n=(0,I.useRef)(null),a=(0,I.useRef)(null),c=(0,I.useRef)(null),o=(0,I.useRef)(null),u=(0,I.useRef)(null),l=(0,I.useRef)(),[m,d]=(0,I.useState)(),[w,v]=(0,I.useState)(),[i,R]=(0,I.useState)(),[p,h]=(0,I.useState)(()=>new pe),[S,E]=(0,I.useState)(()=>new pe("ag-hidden")),[g,z]=(0,I.useState)(()=>new pe("ag-hidden")),[P,U]=(0,I.useState)(()=>new pe("ag-invisible"));(0,I.useImperativeHandle)(t,()=>({refresh(){return!1}})),(0,I.useLayoutEffect)(()=>Ae(m,s,a.current),[m]);const M=(0,I.useCallback)(T=>{if(n.current=T,!n.current){s.destroyBean(l.current),l.current=null;return}const N={setInnerRenderer:(x,H)=>{d(x),R(H)},setChildCount:x=>v(x),addOrRemoveCssClass:(x,H)=>h(D=>D.setClass(x,H)),setContractedDisplayed:x=>z(H=>H.setClass("ag-hidden",!x)),setExpandedDisplayed:x=>E(H=>H.setClass("ag-hidden",!x)),setCheckboxVisible:x=>U(H=>H.setClass("ag-invisible",!x))},K=r.getInstance("groupCellRendererCtrl");K&&(l.current=s.createBean(K),l.current.init(N,n.current,c.current,o.current,u.current,dt,e))},[]),y=(0,I.useMemo)(()=>`ag-cell-wrapper ${p.toString()}`,[p]),C=(0,I.useMemo)(()=>`ag-group-expanded ${S.toString()}`,[S]),k=(0,I.useMemo)(()=>`ag-group-contracted ${g.toString()}`,[g]),F=(0,I.useMemo)(()=>`ag-group-checkbox ${P.toString()}`,[P]),q=m&&m.componentFromFramework,J=q?m.componentClass:void 0,L=m==null&&i!=null,V=(0,Ft._escapeString)(i,!0);return I.default.createElement("span",{className:y,ref:M,...e.colDef?{}:{role:l.current?.getCellAriaRole()}},I.default.createElement("span",{className:C,ref:o}),I.default.createElement("span",{className:k,ref:u}),I.default.createElement("span",{className:F,ref:c}),I.default.createElement("span",{className:"ag-group-value",ref:a},L&&I.default.createElement(I.default.Fragment,null,V),q&&I.default.createElement(J,{...m.params})),I.default.createElement("span",{className:"ag-group-child-count"},w))}),pt=dt,De=(0,Ot.createContext)({setMethods:()=>{}}),zt=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:s,setMethods:n}=e,[a,c]=(0,Ie.useState)(t);return(0,Ie.useEffect)(()=>{r(o=>c(o))},[]),Ie.default.createElement(De.Provider,{value:{setMethods:n}},Ie.default.createElement(s,{...a}))},$t=(0,Ie.memo)(zt),Jt=0;function mt(){return`agPortalKey_${++Jt}`}var ft=class{constructor(e,t,r,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=mt(),this.portalKey=mt(),this.instanceCreated=this.isStatelessComponent()?_e.AgPromise.resolve(!1):new _e.AgPromise(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&((0,_e._warnOnce)('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&((0,_e._warnOnce)('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const s=r[e];if(s)return s.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new _e.AgPromise(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.addParentContainerStyleAndClasses(),this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,_t.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,It.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function Ze(e,t,r){e.forEach(s=>{const n=t[s];n&&(r[s]=n)})}var he=class extends ft{constructor(){super(...arguments),this.awaitUpdateCallback=new Je.AgPromise(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=$t}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new Je.AgPromise(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Ze(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Je.AgPromise(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Kt=class extends he{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Qt=class extends he{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Yt=class extends he{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function ht(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||xt.AgPromise.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Zt=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Ze(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),ht(this.floatingFilterParams,e)}},Xt=class extends he{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),ht(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},er=class extends he{refresh(e){this.sourceParams=e,this.refreshProps()}},tr=class extends he{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},rr=class extends he{refresh(e){this.sourceParams=e,this.refreshProps()}},sr=class extends he{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},nr=class extends he{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function or(e,t){(e?.getInstance?.()??ot.AgPromise.resolve(void 0)).then(s=>t(s))}function Le(){(0,ot._warnOnce)("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var ar=1e3,cr=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||ar}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},lr=e=>{const{ctrl:t}=e,r=t.isAlive(),{context:s}=(0,re.useContext)(ae),n=r?t.getColId():void 0,[a,c]=(0,re.useState)(),o=(0,re.useRef)(null),u=(0,re.useRef)(null),l=(0,re.useRef)(null),m=(0,re.useRef)(),d=(0,re.useRef)();r&&!d.current&&(d.current=new Ke.CssClassManager(()=>o.current));const w=(0,re.useCallback)(p=>{if(o.current=p,!o.current||!r)return;const h={setWidth:E=>{o.current&&(o.current.style.width=E)},addOrRemoveCssClass:(E,g)=>d.current.addOrRemoveCssClass(E,g),setAriaSort:E=>{o.current&&(E?(0,Ke._setAriaSort)(o.current,E):(0,Ke._removeAriaSort)(o.current))},setUserCompDetails:E=>c(E),getUserCompInstance:()=>m.current||void 0};t.setComp(h,o.current,u.current,l.current);const S=t.getSelectAllGui();u.current?.insertAdjacentElement("afterend",S)},[]);(0,re.useLayoutEffect)(()=>Ae(a,s,l.current,m),[a]),(0,re.useEffect)(()=>{t.setDragSource(o.current)},[a]);const v=(0,re.useMemo)(()=>!!(a?.componentFromFramework&&Pe(a.componentClass)),[a]),i=a&&a.componentFromFramework,R=a&&a.componentClass;return re.default.createElement("div",{ref:w,className:"ag-header-cell","col-id":n,role:"columnheader"},re.default.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),re.default.createElement("div",{ref:l,className:"ag-header-cell-comp-wrapper",role:"presentation"},i&&v&&re.default.createElement(R,{...a.params}),i&&!v&&re.default.createElement(R,{...a.params,ref:m})))},ur=(0,re.memo)(lr),ir=e=>{const{context:t,gos:r}=(0,A.useContext)(ae),[s,n]=(0,A.useState)(()=>new pe("ag-header-cell","ag-floating-filter")),[a,c]=(0,A.useState)(()=>new pe),[o,u]=(0,A.useState)(()=>new pe("ag-floating-filter-button","ag-hidden")),[l,m]=(0,A.useState)("false"),[d,w]=(0,A.useState)(),[,v]=(0,A.useState)(1),i=(0,A.useRef)(null),R=(0,A.useRef)(null),p=(0,A.useRef)(null),h=(0,A.useRef)(null),S=(0,A.useRef)(),E=(0,A.useRef)(),g=V=>{V!=null&&S.current&&S.current(V)},{ctrl:z}=e,P=(0,A.useCallback)(V=>{if(i.current=V,!i.current)return;E.current=new Wt.AgPromise(N=>{S.current=N});const T={addOrRemoveCssClass:(N,K)=>n(x=>x.setClass(N,K)),addOrRemoveBodyCssClass:(N,K)=>c(x=>x.setClass(N,K)),setButtonWrapperDisplayed:N=>{u(K=>K.setClass("ag-hidden",!N)),m(N?"false":"true")},setWidth:N=>{i.current&&(i.current.style.width=N)},setCompDetails:N=>w(N),getFloatingFilterComp:()=>E.current?E.current:null,setMenuIcon:N=>h.current?.appendChild(N)};z.setComp(T,i.current,h.current,R.current)},[]);(0,A.useLayoutEffect)(()=>Ae(d,t,R.current,g),[d]);const U=(0,A.useMemo)(()=>s.toString(),[s]),M=(0,A.useMemo)(()=>a.toString(),[a]),y=(0,A.useMemo)(()=>o.toString(),[o]),C=(0,A.useMemo)(()=>!!(d&&d.componentFromFramework&&Pe(d.componentClass)),[d]),k=(0,A.useMemo)(()=>r.get("reactiveCustomComponents"),[]),F=(0,A.useMemo)(()=>{if(d)if(k){const V=new Zt(d.params,()=>v(T=>T+1));return g(V),V}else d.componentFromFramework&&Le()},[d]),q=F?.getProps(),J=d&&d.componentFromFramework,L=d&&d.componentClass;return A.default.createElement("div",{ref:P,className:U,role:"gridcell"},A.default.createElement("div",{ref:R,className:M,role:"presentation"},J&&!k&&A.default.createElement(L,{...d.params,ref:C?()=>{}:g}),J&&k&&A.default.createElement(De.Provider,{value:{setMethods:V=>F.setMethods(V)}},A.default.createElement(L,{...q}))),A.default.createElement("div",{ref:p,"aria-hidden":l,className:y,role:"presentation"},A.default.createElement("button",{ref:h,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},dr=(0,A.memo)(ir),pr=e=>{const{context:t}=(0,j.useContext)(ae),{ctrl:r}=e,[s,n]=(0,j.useState)(()=>new pe),[a,c]=(0,j.useState)(()=>new pe),[o,u]=(0,j.useState)("false"),[l,m]=(0,j.useState)(),[d,w]=(0,j.useState)(),v=(0,j.useMemo)(()=>r.getColId(),[]),i=(0,j.useRef)(null),R=(0,j.useRef)(null),p=(0,j.useRef)(null),h=(0,j.useRef)(),S=(0,j.useCallback)(M=>{if(i.current=M,!i.current)return;const y={setWidth:C=>{i.current&&(i.current.style.width=C)},addOrRemoveCssClass:(C,k)=>n(F=>F.setClass(C,k)),setUserCompDetails:C=>w(C),setResizableDisplayed:C=>{c(k=>k.setClass("ag-hidden",!C)),u(C?"false":"true")},setAriaExpanded:C=>m(C),getUserCompInstance:()=>h.current||void 0};r.setComp(y,i.current,R.current,p.current)},[]);(0,j.useLayoutEffect)(()=>Ae(d,t,p.current),[d]),(0,j.useEffect)(()=>{i.current&&r.setDragSource(i.current)},[d]);const E=(0,j.useMemo)(()=>!!(d?.componentFromFramework&&Pe(d.componentClass)),[d]),g=(0,j.useMemo)(()=>"ag-header-group-cell "+s.toString(),[s]),z=(0,j.useMemo)(()=>"ag-header-cell-resize "+a.toString(),[a]),P=d&&d.componentFromFramework,U=d&&d.componentClass;return j.default.createElement("div",{ref:S,className:g,"col-id":v,role:"columnheader","aria-expanded":l},j.default.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},P&&E&&j.default.createElement(U,{...d.params}),P&&!E&&j.default.createElement(U,{...d.params,ref:h})),j.default.createElement("div",{ref:R,"aria-hidden":o,className:z}))},mr=(0,j.memo)(pr),fr=e=>{const{ctrl:t}=e,{topOffset:r,rowHeight:s}=(0,oe.useMemo)(()=>t.getTopAndHeight(),[]),n=t.getAriaRowIndex(),a=t.getHeaderRowClass(),[c,o]=(0,oe.useState)(()=>s+"px"),[u,l]=(0,oe.useState)(()=>r+"px"),m=(0,oe.useRef)(null),d=(0,oe.useRef)(null),[w,v]=(0,oe.useState)(()=>t.getHeaderCtrls()),i=(0,oe.useRef)(null),R=(0,oe.useCallback)(S=>{if(i.current=S,!S)return;const E={setHeight:g=>o(g),setTop:g=>l(g),setHeaderCtrls:(g,z,P)=>{d.current=m.current,m.current=g;const U=Ye(d.current,g,z);U!==d.current&&Qe(P,()=>v(U))},setWidth:g=>{i.current&&(i.current.style.width=g)}};t.setComp(E,!1)},[]),p=(0,oe.useMemo)(()=>({height:c,top:u}),[c,u]),h=(0,oe.useCallback)(S=>{switch(t.getType()){case at.HeaderRowType.COLUMN_GROUP:return oe.default.createElement(mr,{ctrl:S,key:S.getInstanceId()});case at.HeaderRowType.FLOATING_FILTER:return oe.default.createElement(dr,{ctrl:S,key:S.getInstanceId()});default:return oe.default.createElement(ur,{ctrl:S,key:S.getInstanceId()})}},[]);return oe.default.createElement("div",{ref:R,className:a,role:"row",style:p,"aria-rowindex":n},w.map(h))},hr=(0,oe.memo)(fr),Cr=e=>{const[t,r]=(0,ne.useState)(!0),[s,n]=(0,ne.useState)([]),{context:a}=(0,ne.useContext)(ae),c=(0,ne.useRef)(null),o=(0,ne.useRef)(null),u=(0,ne.useRef)(null),l=e.pinned==="left",m=e.pinned==="right",d=!l&&!m,w=(0,ne.useCallback)(R=>{if(c.current=R,!c.current){a.destroyBean(u.current),u.current=null;return}const p={setDisplayed:r,setCtrls:h=>n(h),setCenterWidth:h=>{o.current&&(o.current.style.width=h)},setViewportScrollLeft:h=>{c.current&&(c.current.scrollLeft=h)},setPinnedContainerWidth:h=>{c.current&&(c.current.style.width=h,c.current.style.minWidth=h,c.current.style.maxWidth=h)}};u.current=a.createBean(new Bt.HeaderRowContainerCtrl(e.pinned)),u.current.setComp(p,c.current)},[]),v=t?"":"ag-hidden",i=()=>s.map(R=>ne.default.createElement(hr,{ctrl:R,key:R.getInstanceId()}));return ne.default.createElement(ne.default.Fragment,null,l&&ne.default.createElement("div",{ref:w,className:"ag-pinned-left-header "+v,"aria-hidden":!t,role:"rowgroup"},i()),m&&ne.default.createElement("div",{ref:w,className:"ag-pinned-right-header "+v,"aria-hidden":!t,role:"rowgroup"},i()),d&&ne.default.createElement("div",{ref:w,className:"ag-header-viewport "+v,role:"presentation"},ne.default.createElement("div",{ref:o,className:"ag-header-container",role:"rowgroup"},i())))},Xe=(0,ne.memo)(Cr),gr=()=>{const[e,t]=(0,ue.useState)(()=>new pe),[r,s]=(0,ue.useState)(),{context:n}=(0,ue.useContext)(ae),a=(0,ue.useRef)(null),c=(0,ue.useRef)(null),o=(0,ue.useCallback)(m=>{if(a.current=m,!m){n.destroyBean(c.current),c.current=null;return}const d={addOrRemoveCssClass:(w,v)=>t(i=>i.setClass(w,v)),setHeightAndMinHeight:w=>s(w)};c.current=n.createBean(new Dt.GridHeaderCtrl),c.current.setComp(d,a.current,a.current)},[]),u=(0,ue.useMemo)(()=>"ag-header "+e.toString(),[e]),l=(0,ue.useMemo)(()=>({height:r,minHeight:r}),[r]);return ue.default.createElement("div",{ref:o,className:u,style:l,role:"presentation"},ue.default.createElement(Xe,{pinned:"left"}),ue.default.createElement(Xe,{pinned:null}),ue.default.createElement(Xe,{pinned:"right"}))},Rr=(0,ue.memo)(gr),yr=(e,t)=>{(0,Tt.useEffect)(()=>{const r=t.current;if(r){const s=r.parentElement;if(s){const n=document.createComment(e);return s.insertBefore(n,r),()=>{s.removeChild(n)}}}},[e])},we=yr,vr=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Ht.AgPromise(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Ze(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},wr=e=>{const t=(0,Ee.useRef)(e),r=(0,Ee.useRef)(),s=(0,Ee.useRef)(!1),n=(0,Ee.useRef)(!1),[,a]=(0,Ee.useState)(0);s.current&&(n.current=!0),(0,Ee.useEffect)(()=>(s.current||(r.current=t.current(),s.current=!0),a(c=>c+1),()=>{n.current&&r.current&&r.current()}),[])},Sr=e=>{const[t,r]=(0,xe.useState)(),{context:s,popupService:n,localeService:a,gos:c,editService:o}=(0,xe.useContext)(ae);return wr(()=>{const{editDetails:u,cellCtrl:l,eParentCell:m}=e,{compDetails:d}=u,w=c.get("stopEditingWhenCellsLoseFocus"),v=s.createBean(o.createPopupEditorWrapper(d.params)),i=v.getGui();if(e.jsChildComp){const g=e.jsChildComp.getGui();g&&i.appendChild(g)}const R={column:l.getColumn(),rowNode:l.getRowNode(),type:"popupCellEditor",eventSource:m,ePopup:i,position:u.popupPosition,keepWithinBounds:!0},p=n.positionPopupByComponent.bind(n,R),h=a.getLocaleTextFunc(),S=n.addPopup({modal:w,eChild:i,closeOnEsc:!0,closedCallback:()=>{l.onPopupEditorClosed()},anchorToElement:m,positionCallback:p,ariaLabel:h("ariaLabelCellEditor","Cell Editor")}),E=S?S.hideFunc:void 0;return r(v),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{E?.(),s.destroyBean(v)}}),xe.default.createElement(xe.default.Fragment,null,t&&e.wrappedContent&&(0,Ut.createPortal)(e.wrappedContent,t.getGui()))},Ct=(0,xe.memo)(Sr),br=(e,t,r,s,n,a)=>{const{context:c}=(0,He.useContext)(ae),o=(0,He.useCallback)(()=>{const u=n.current;if(!u)return;const l=u.getGui();l&&l.parentElement&&l.parentElement.removeChild(l),c.destroyBean(u),n.current=void 0},[]);(0,He.useEffect)(()=>{const u=e!=null,l=e&&e.compDetails&&!e.compDetails.componentFromFramework,m=t&&r==null;if(!(u&&l&&!m)){o();return}const w=e.compDetails;if(n.current){const i=n.current,p=i.refresh!=null&&e.force==!1?i.refresh(w.params):!1;if(p===!0||p===void 0)return;o()}const v=w.newAgStackInstance();v?.then(i=>{if(!i)return;const R=i.getGui();if(!R)return;(t?r:a.current).appendChild(R),n.current=i})},[e,t,s]),(0,He.useEffect)(()=>o,[])},Er=br,Pr=(e,t,r)=>{const{compProxy:s}=e;r(s);const n=s.getProps(),a=Pe(t);return f.default.createElement(De.Provider,{value:{setMethods:c=>s.setMethods(c)}},a&&f.default.createElement(t,{...n}),!a&&f.default.createElement(t,{...n,ref:c=>s.setRef(c)}))},gt=(e,t,r)=>{const s=e.compProxy;return f.default.createElement(f.default.Fragment,null,!s&&f.default.createElement(t,{...e.compDetails.params,ref:r}),s&&Pr(e,t,r))},Mr=(e,t,r,s,n,a)=>{const c=e.compDetails,o=c.componentClass,u=c.componentFromFramework&&!e.popup,l=c.componentFromFramework&&e.popup,m=!c.componentFromFramework&&e.popup;return f.default.createElement(f.default.Fragment,null,u&&gt(e,o,t),l&&f.default.createElement(Ct,{editDetails:e,cellCtrl:n,eParentCell:s,wrappedContent:gt(e,o,r)}),m&&a&&f.default.createElement(Ct,{editDetails:e,cellCtrl:n,eParentCell:s,jsChildComp:a}))},kr=(e,t,r,s,n,a,c)=>{const{compDetails:o,value:u}=e,l=!o,m=o&&o.componentFromFramework,d=o&&o.componentClass,w=u?.toString?u.toString():u,v=()=>f.default.createElement(f.default.Fragment,null,l&&f.default.createElement(f.default.Fragment,null,w),m&&!a&&f.default.createElement(d,{...o.params,key:t,ref:s}),m&&a&&f.default.createElement(d,{...o.params,key:t}));return f.default.createElement(f.default.Fragment,null,n?f.default.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:c},v()):v())},Fr=e=>{const{context:t}=(0,f.useContext)(ae),{cellCtrl:r,printLayout:s,editingRow:n}=e,a=r.getColumnIdSanitised(),c=r.getInstanceId(),[o,u]=(0,f.useState)(()=>r.isCellRenderer()?void 0:{compDetails:void 0,value:r.getValueToDisplay(),force:!1}),[l,m]=(0,f.useState)(),[d,w]=(0,f.useState)(1),[v,i]=(0,f.useState)(),[R,p]=(0,f.useState)(!1),[h,S]=(0,f.useState)(!1),[E,g]=(0,f.useState)(!1),[z,P]=(0,f.useState)(),U=(0,f.useMemo)(()=>r.isForceWrapper(),[r]),M=(0,f.useMemo)(()=>r.getCellAriaRole(),[r]),y=(0,f.useRef)(null),C=(0,f.useRef)(null),k=(0,f.useRef)(),F=(0,f.useRef)(),q=(0,f.useRef)(),J=(0,f.useRef)([]),L=(0,f.useRef)(),[V,T]=(0,f.useState)(0),N=(0,f.useCallback)(te=>{L.current=te,T(Y=>Y+1)},[]),K=o!=null&&(R||E||h),x=U||K,H=(0,f.useCallback)((te,Y)=>{F.current=Y,Y&&Y.isCancelBeforeStart&&Y.isCancelBeforeStart()&&setTimeout(()=>{r.stopEditing(!0),r.focusCell(!0)})},[r]),D=(0,f.useCallback)(te=>H(!0,te),[H]),se=(0,f.useCallback)(te=>H(!1,te),[H]),O=(0,f.useRef)();O.current||(O.current=new lt.CssClassManager(()=>y.current)),Er(o,x,L.current,V,k,y);const fe=(0,f.useRef)();(0,f.useLayoutEffect)(()=>{const te=fe.current,Y=o;if(fe.current=o,te==null||te.compDetails==null||Y==null||Y.compDetails==null)return;const ee=te.compDetails,B=Y.compDetails;if(ee.componentClass!=B.componentClass||C.current==null||C.current.refresh==null)return;C.current.refresh(B.params)!=!0&&w(le=>le+1)},[o]),(0,f.useLayoutEffect)(()=>{if(!(l&&!l.compDetails.componentFromFramework))return;const Y=l.compDetails,ee=l.popup===!0,B=Y.newAgStackInstance();return B.then(Z=>{if(!Z)return;const le=Z.getGui();H(ee,Z),ee||((U?q:y).current?.appendChild(le),Z.afterGuiAttached&&Z.afterGuiAttached()),P(Z)}),()=>{B.then(Z=>{const le=Z.getGui();t.destroyBean(Z),H(ee,void 0),P(void 0),le&&le.parentElement&&le.parentElement.removeChild(le)})}},[l]);const ce=(0,f.useCallback)(te=>{if(q.current=te,!q.current){J.current.forEach(ee=>ee()),J.current=[];return}const Y=ee=>{if(ee){const B=ee.getGui();q.current?.insertAdjacentElement("afterbegin",B),J.current.push(()=>{t.destroyBean(ee),(0,lt._removeFromParent)(B)})}return ee};if(R){const ee=r.createSelectionCheckbox();Y(ee)}E&&Y(r.createDndSource()),h&&Y(r.createRowDragComp())},[r,t,E,h,R]),Ce=(0,f.useCallback)(te=>{if(y.current=te,!y.current||!r)return;const Y={addOrRemoveCssClass:(B,Z)=>O.current.addOrRemoveCssClass(B,Z),setUserStyles:B=>i(B),getFocusableElement:()=>y.current,setIncludeSelection:B=>p(B),setIncludeRowDrag:B=>S(B),setIncludeDndSource:B=>g(B),getCellEditor:()=>F.current||null,getCellRenderer:()=>C.current?C.current:k.current,getParentOfValue:()=>L.current?L.current:q.current?q.current:y.current,setRenderDetails:(B,Z,le)=>{u(ge=>ge?.compDetails!==B||ge?.value!==Z||ge?.force!==le?{value:Z,compDetails:B,force:le}:ge)},setEditDetails:(B,Z,le,ge)=>{if(B){let ke;ge?ke=new vr(B.params,()=>w(Se=>Se+1)):B.componentFromFramework&&Le(),m({compDetails:B,popup:Z,popupPosition:le,compProxy:ke}),Z||u(void 0)}else m(ke=>{ke?.compProxy&&(F.current=void 0)})}},ee=q.current||void 0;r.setComp(Y,y.current,ee,s,n)},[]),Me=(0,f.useMemo)(()=>!!(o&&o.compDetails&&o.compDetails.componentFromFramework&&Pe(o.compDetails.componentClass)),[o]);(0,f.useLayoutEffect)(()=>{y.current&&(O.current.addOrRemoveCssClass("ag-cell-value",!x),O.current.addOrRemoveCssClass("ag-cell-inline-editing",!!l&&!l.popup),O.current.addOrRemoveCssClass("ag-cell-popup-editing",!!l&&!!l.popup),O.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!l||!!l.popup),r.getRowCtrl()?.setInlineEditingCss(),r.shouldRestoreFocus()&&!r.isEditing()&&y.current.focus({preventScroll:!0}))});const Ve=()=>f.default.createElement(f.default.Fragment,null,o!=null&&kr(o,d,c,C,x,Me,N),l!=null&&Mr(l,se,D,y.current,r,z)),et=(0,f.useCallback)(()=>r.onFocusOut(),[]);return f.default.createElement("div",{ref:Ce,style:v,role:M,"col-id":a,onBlur:et},x?f.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:ce},Ve()):Ve())},Gr=(0,f.memo)(Fr),Or=e=>{const{context:t,gos:r}=(0,_.useContext)(ae),{rowCtrl:s,containerType:n}=e,a=(0,_.useRef)(s.getDomOrder()),c=s.isFullWidth(),o=s.getRowNode().displayed,[u,l]=(0,_.useState)(()=>o?s.getRowIndex():null),[m,d]=(0,_.useState)(()=>s.getRowId()),[w,v]=(0,_.useState)(()=>s.getBusinessKey()),[i,R]=(0,_.useState)(()=>s.getRowStyles()),p=(0,_.useRef)(null),h=(0,_.useRef)(null),[S,E]=(0,_.useState)(()=>null),[g,z]=(0,_.useState)(),[P,U]=(0,_.useState)(()=>o?s.getInitialRowTop(n):void 0),[M,y]=(0,_.useState)(()=>o?s.getInitialTransform(n):void 0),C=(0,_.useRef)(null),k=(0,_.useRef)(),F=(0,_.useRef)(!1),[q,J]=(0,_.useState)(0);(0,_.useEffect)(()=>{if(F.current||!g||q>10)return;const O=C.current?.firstChild;O?(s.setupDetailRowAutoHeight(O),F.current=!0):J(fe=>fe+1)},[g,q]);const L=(0,_.useRef)();L.current||(L.current=new Nt.CssClassManager(()=>C.current));const V=(0,_.useCallback)(O=>{if(C.current=O,!C.current){s.unsetComp(n);return}if(!s.isAlive())return;const fe={setTop:U,setTransform:y,addOrRemoveCssClass:(ce,Ce)=>L.current.addOrRemoveCssClass(ce,Ce),setDomOrder:ce=>a.current=ce,setRowIndex:l,setRowId:d,setRowBusinessKey:v,setUserStyles:R,setCellCtrls:(ce,Ce)=>{h.current=p.current,p.current=ce;const Me=Ye(h.current,ce,a.current);Me!==h.current&&Qe(Ce,()=>E(Me))},showFullWidth:ce=>z(ce),getFullWidthCellRenderer:()=>k.current,refreshFullWidth:ce=>H.current?(z(Ce=>({...Ce,params:ce()})),!0):!k.current||!k.current.refresh?!1:k.current.refresh(ce())};s.setComp(fe,C.current,n)},[]);(0,_.useLayoutEffect)(()=>Ae(g,t,C.current,k),[g]);const T=(0,_.useMemo)(()=>{const O={top:P,transform:M};return Object.assign(O,i),O},[P,M,i]),N=c&&g&&g.componentFromFramework,K=!c&&S!=null,x=(0,_.useMemo)(()=>!!(g?.componentFromFramework&&Pe(g.componentClass)),[g]),H=(0,_.useRef)(!1);(0,_.useEffect)(()=>{H.current=x&&!!g&&!!r.get("reactiveCustomComponents")},[x,g]);const D=()=>S?.map(O=>_.default.createElement(Gr,{cellCtrl:O,editingRow:s.isEditing(),printLayout:s.isPrintLayout(),key:O.getInstanceId()})),se=()=>{const O=g.componentClass;return _.default.createElement(_.default.Fragment,null,x&&_.default.createElement(O,{...g.params}),!x&&_.default.createElement(O,{...g.params,ref:k}))};return _.default.createElement("div",{ref:V,role:"row",style:T,"row-index":u,"row-id":m,"row-business-key":w},K&&D(),N&&se())},Ir=(0,_.memo)(Or),_r=e=>{const{context:t}=(0,$.useContext)(ae),{name:r}=e,s=(0,$.useMemo)(()=>(0,ct._getRowContainerOptions)(r),[r]),n=(0,$.useRef)(null),a=(0,$.useRef)(null),c=(0,$.useRef)([]),o=(0,$.useRef)([]),[u,l]=(0,$.useState)(()=>[]),m=(0,$.useRef)(!1),d=(0,$.useRef)(),w=(0,$.useMemo)(()=>me(s.viewport),[s]),v=(0,$.useMemo)(()=>me(s.container),[s]),i=s.type==="center",R=i?n:a;we(" AG Row Container "+r+" ",R);const p=(0,$.useCallback)(()=>i?n.current!=null&&a.current!=null:a.current!=null,[]),h=(0,$.useCallback)(()=>i?n.current==null&&a.current==null:a.current==null,[]),S=(0,$.useCallback)(()=>{if(h()&&(t.destroyBean(d.current),d.current=null),p()){const P=M=>{const y=Ye(o.current,c.current,m.current);y!==o.current&&(o.current=y,Qe(M,()=>l(y)))},U={setHorizontalScroll:M=>{n.current&&(n.current.scrollLeft=M)},setViewportHeight:M=>{n.current&&(n.current.style.height=M)},setRowCtrls:({rowCtrls:M,useFlushSync:y})=>{const C=!!y&&c.current.length>0&&M.length>0;c.current=M,P(C)},setDomOrder:M=>{m.current!=M&&(m.current=M,P(!1))},setContainerWidth:M=>{a.current&&(a.current.style.width=M)},setOffsetTop:M=>{a.current&&(a.current.style.transform=`translateY(${M})`)}};d.current=t.createBean(new ct.RowContainerCtrl(r)),d.current.setComp(U,a.current,n.current)}},[p,h]),E=(0,$.useCallback)(P=>{a.current=P,S()},[S]),g=(0,$.useCallback)(P=>{n.current=P,S()},[S]),z=()=>$.default.createElement("div",{className:v,ref:E,role:"rowgroup"},u.map(P=>$.default.createElement(Ir,{rowCtrl:P,containerType:s.type,key:P.getInstanceId()})));return $.default.createElement($.default.Fragment,null,i?$.default.createElement("div",{className:w,ref:g,role:"presentation"},z()):z())},xr=(0,$.memo)(_r),Ar=()=>{const{context:e,resizeObserverService:t}=(0,b.useContext)(ae),[r,s]=(0,b.useState)(""),[n,a]=(0,b.useState)(0),[c,o]=(0,b.useState)(0),[u,l]=(0,b.useState)("0px"),[m,d]=(0,b.useState)("0px"),[w,v]=(0,b.useState)("100%"),[i,R]=(0,b.useState)("0px"),[p,h]=(0,b.useState)("0px"),[S,E]=(0,b.useState)("100%"),[g,z]=(0,b.useState)(""),[P,U]=(0,b.useState)(""),[M,y]=(0,b.useState)(null),[C,k]=(0,b.useState)(""),[F,q]=(0,b.useState)(null),[J,L]=(0,b.useState)("ag-layout-normal"),V=(0,b.useRef)();V.current||(V.current=new ve.CssClassManager(()=>T.current));const T=(0,b.useRef)(null),N=(0,b.useRef)(null),K=(0,b.useRef)(null),x=(0,b.useRef)(null),H=(0,b.useRef)(null),D=(0,b.useRef)(null),se=(0,b.useRef)(null),O=(0,b.useRef)([]),fe=(0,b.useRef)([]);we(" AG Grid Body ",T),we(" AG Pinned Top ",N),we(" AG Sticky Top ",K),we(" AG Middle ",D),we(" AG Pinned Bottom ",se);const ce=(0,b.useCallback)(Fe=>{if(T.current=Fe,!T.current){e.destroyBeans(O.current),fe.current.forEach(Q=>Q()),O.current=[],fe.current=[];return}if(!e)return;const je=(Q,de)=>{Q.appendChild(de),fe.current.push(()=>Q.removeChild(de))},tt=Q=>{const de=e.createBean(new Q);return O.current.push(de),de},We=(Q,de,es)=>{je(Q,document.createComment(es)),je(Q,tt(de).getGui())};We(T.current,ve.FakeHScrollComp," AG Fake Horizontal Scroll "),We(T.current,ve.OverlayWrapperComponent," AG Overlay Wrapper "),H.current&&We(H.current,ve.FakeVScrollComp," AG Fake Vertical Scroll ");const Xr={setRowAnimationCssOnBodyViewport:s,setColumnCount:Q=>{T.current&&(0,ve._setAriaColCount)(T.current,Q)},setRowCount:Q=>{T.current&&(0,ve._setAriaRowCount)(T.current,Q)},setTopHeight:a,setBottomHeight:o,setStickyTopHeight:l,setStickyTopTop:d,setStickyTopWidth:v,setTopDisplay:z,setBottomDisplay:U,setColumnMovingCss:(Q,de)=>V.current.addOrRemoveCssClass(Q,de),updateLayoutClasses:L,setAlwaysVerticalScrollClass:y,setPinnedTopBottomOverflowY:k,setCellSelectableCss:(Q,de)=>q(de?Q:null),setBodyViewportWidth:Q=>{D.current&&(D.current.style.width=Q)},registerBodyViewportResizeListener:Q=>{if(D.current){const de=t.observeResize(D.current,Q);fe.current.push(()=>de())}},setStickyBottomHeight:R,setStickyBottomBottom:h,setStickyBottomWidth:E},vt=e.createBean(new ve.GridBodyCtrl);O.current.push(vt),vt.setComp(Xr,T.current,D.current,N.current,se.current,K.current,x.current)},[]),Ce=(0,b.useMemo)(()=>me("ag-root","ag-unselectable",J),[J]),Me=(0,b.useMemo)(()=>me("ag-body-viewport",r,J,M,F),[r,J,M,F]),Ve=(0,b.useMemo)(()=>me("ag-body",J),[J]),et=(0,b.useMemo)(()=>me("ag-floating-top",F),[F]),te=(0,b.useMemo)(()=>me("ag-sticky-top",F),[F]),Y=(0,b.useMemo)(()=>me("ag-sticky-bottom",i==="0px"?"ag-hidden":null,F),[F,i]),ee=(0,b.useMemo)(()=>me("ag-floating-bottom",F),[F]),B=(0,b.useMemo)(()=>({height:n,minHeight:n,display:g,overflowY:C}),[n,g,C]),Z=(0,b.useMemo)(()=>({height:u,top:m,width:w}),[u,m,w]),le=(0,b.useMemo)(()=>({height:i,bottom:p,width:S}),[i,p,S]),ge=(0,b.useMemo)(()=>({height:c,minHeight:c,display:P,overflowY:C}),[c,P,C]),ke=Fe=>b.default.createElement(xr,{name:Fe,key:`${Fe}-container`}),Se=({section:Fe,children:je,className:tt,style:We})=>b.default.createElement("div",{ref:Fe,className:tt,role:"presentation",style:We},je.map(ke));return b.default.createElement("div",{ref:ce,className:Ce,role:"treegrid"},b.default.createElement(Rr,null),Se({section:N,className:et,style:B,children:["topLeft","topCenter","topRight","topFullWidth"]}),b.default.createElement("div",{className:Ve,ref:H,role:"presentation"},Se({section:D,className:Me,children:["left","center","right","fullWidth"]})),Se({section:K,className:te,style:Z,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Se({section:x,className:Y,style:le,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Se({section:se,className:ee,style:ge,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},Dr=(0,b.memo)(Ar),Br=(e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:n,gridCtrl:a,forceFocusOutWhenTabGuardsAreEmpty:c}=e,{context:o}=(0,ie.useContext)(ae),u=(0,ie.useRef)(null),l=(0,ie.useRef)(null),m=(0,ie.useRef)(),d=p=>{const h=p==null?void 0:parseInt(p,10).toString();[u,l].forEach(S=>{h===void 0?S.current?.removeAttribute("tabindex"):S.current?.setAttribute("tabindex",h)})};(0,ie.useImperativeHandle)(t,()=>({forceFocusOutOfContainer(p){m.current?.forceFocusOutOfContainer(p)}}));const w=(0,ie.useCallback)(()=>{if(!u.current&&!l.current){o.destroyBean(m.current),m.current=null;return}if(u.current&&l.current){const p={setTabIndex:d};m.current=o.createBean(new Ue.TabGuardCtrl({comp:p,eTopGuard:u.current,eBottomGuard:l.current,eFocusableElement:s,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:c,focusInnerElement:h=>a.focusInnerElement(h)}))}},[]),v=(0,ie.useCallback)(p=>{u.current=p,w()},[w]),i=(0,ie.useCallback)(p=>{l.current=p,w()},[w]),R=p=>{const h=p==="top"?Ue.TabGuardClassNames.TAB_GUARD_TOP:Ue.TabGuardClassNames.TAB_GUARD_BOTTOM;return ie.default.createElement("div",{className:`${Ue.TabGuardClassNames.TAB_GUARD} ${h}`,role:"presentation",ref:p==="top"?v:i})};return ie.default.createElement(ie.default.Fragment,null,R("top"),r,R("bottom"))},Wr=(0,ie.forwardRef)(Br),Tr=(0,ie.memo)(Wr),Nr=({context:e})=>{const[t,r]=(0,W.useState)(""),[s,n]=(0,W.useState)(""),[a,c]=(0,W.useState)(null),[o,u]=(0,W.useState)(null),[l,m]=(0,W.useState)(!1),[d,w]=(0,W.useState)(),v=(0,W.useRef)(null),i=(0,W.useRef)(null),R=(0,W.useRef)(),[p,h]=(0,W.useState)(null),S=(0,W.useRef)(()=>{}),E=(0,W.useRef)(),g=(0,W.useRef)([]),z=(0,W.useCallback)(()=>{},[]),P=(0,W.useMemo)(()=>e.isDestroyed()?null:e.getBeans(),[e]);we(" AG Grid ",i);const U=(0,W.useCallback)(F=>{if(i.current=F,!i.current){e.destroyBean(v.current),v.current=null;return}if(e.isDestroyed())return;v.current=e.createBean(new At.GridCtrl);const q=v.current;S.current=q.focusInnerElement.bind(q);const J={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:L=>{if(!L&&E.current?.isDisplayed()){E.current.forceFocusOutOfContainer(L);return}R.current?.forceFocusOutOfContainer(L)},updateLayoutClasses:n,getFocusableContainers:()=>{const L=[],V=i.current?.querySelector(".ag-root");return V&&L.push({getGui:()=>V}),g.current.forEach(T=>{T.isDisplayed()&&L.push(T)}),L},setCursor:c,setUserSelect:u};q.setComp(J,i.current,i.current),m(!0)},[]);(0,W.useEffect)(()=>{if(!d||!P||!v.current||!p||!i.current)return;const F=v.current,q=[],{watermarkSelector:J,paginationSelector:L,sideBarSelector:V,statusBarSelector:T,gridHeaderDropZonesSelector:N}=F.getOptionalSelectors(),K=[],x=i.current;if(N){const D=e.createBean(new N.component),se=D.getGui();x.insertAdjacentElement("afterbegin",se),K.push(se),q.push(D)}if(V){const D=e.createBean(new V.component),se=D.getGui(),O=p.querySelector(".ag-tab-guard-bottom");O&&(O.insertAdjacentElement("beforebegin",se),K.push(se)),q.push(D),g.current.push(D)}const H=D=>{const se=e.createBean(new D),O=se.getGui();return x.insertAdjacentElement("beforeend",O),K.push(O),q.push(se),se};if(T&&H(T.component),L){const D=H(L.component);E.current=D,g.current.push(D)}return J&&H(J.component),()=>{e.destroyBeans(q),K.forEach(D=>{D.parentElement&&D.parentElement.removeChild(D)})}},[d,p,P]);const M=(0,W.useMemo)(()=>me("ag-root-wrapper",t,s),[t,s]),y=(0,W.useMemo)(()=>me("ag-root-wrapper-body","ag-focus-managed",s),[s]),C=(0,W.useMemo)(()=>({userSelect:o??"",WebkitUserSelect:o??"",cursor:a??""}),[o,a]),k=(0,W.useCallback)(F=>{R.current=F,w(F!==null)},[]);return W.default.createElement("div",{ref:U,className:M,style:C,role:"presentation"},W.default.createElement("div",{className:y,ref:h,role:"presentation"},l&&p&&P&&W.default.createElement(ae.Provider,{value:P},W.default.createElement(Tr,{ref:k,eFocusableElement:p,onTabKeyDown:z,gridCtrl:v.current,forceFocusOutWhenTabGuardsAreEmpty:!0},W.default.createElement(Dr,null)))))},Hr=(0,W.memo)(Nr),Ur=class extends qt.BeanStub{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},Rt=e=>{const t=(0,G.useRef)(),r=(0,G.useRef)(null),s=(0,G.useRef)(null),n=(0,G.useRef)([]),a=(0,G.useRef)([]),c=(0,G.useRef)(e),o=(0,G.useRef)(),u=(0,G.useRef)(!1),[l,m]=(0,G.useState)(void 0),[,d]=(0,G.useState)(0),w=(0,G.useCallback)(R=>{if(r.current=R,!r.current){n.current.forEach(y=>y()),n.current.length=0;return}const p=e.modules||[];s.current||(s.current=new cr(()=>d(y=>y+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),n.current.push(()=>{s.current?.destroy(),s.current=null}));const h=(0,ye._combineAttributesAndGridOptions)(e.gridOptions,e),S=()=>{if(u.current){const y=()=>o.current?.shouldQueueUpdates()?void 0:a.current.shift();let C=y();for(;C;)C(),C=y()}},E=Vt()?new jr(S):new yt;o.current=E;const g=new Ur,z={providedBeanInstances:{frameworkComponentWrapper:new Lr(s.current,h.reactiveCustomComponents??!0),renderStatusService:g},modules:p,frameworkOverrides:E},P=y=>{m(y),y.createBean(g),n.current.push(()=>{y.destroy()}),y.getBean("ctrlsService").whenReady(()=>{if(y.isDestroyed())return;const k=t.current;k&&e.setGridApi&&e.setGridApi(k)})},U=y=>{y.getBean("ctrlsService").whenReady(()=>{a.current.forEach(k=>k()),a.current.length=0,u.current=!0})},M=new ye.GridCoreCreator;t.current=M.create(r.current,h,P,U,z)},[]),v=(0,G.useMemo)(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),i=(0,G.useCallback)(R=>{u.current&&!o.current?.shouldQueueUpdates()?R():a.current.push(R)},[]);return(0,G.useEffect)(()=>{const R=qr(c.current,e);c.current=e,i(()=>{t.current&&(0,ye._processOnChange)(R,t.current)})},[e]),G.default.createElement("div",{style:v,className:e.className,ref:w},l&&!l.isDestroyed()?G.default.createElement(Hr,{context:l}):null,s.current?.getPortals()??null)};function qr(e,t){const r={};return Object.keys(t).forEach(s=>{const n=t[s];e[s]!==n&&(r[s]=n)}),r}var Lr=class extends ye.BaseComponentWrapper{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const n=(a=>{switch(a){case"filter":return Yt;case"floatingFilterComponent":return Xt;case"dateComponent":return Qt;case"loadingOverlayComponent":return er;case"noRowsOverlayComponent":return rr;case"statusPanel":return sr;case"toolPanel":return nr;case"menuItem":return tr;case"cellRenderer":return Kt}})(t.propertyName);if(n)return new n(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Le();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new ft(e,this.parent,t,r)}},Vr=(0,G.forwardRef)((e,t)=>{const{ctrlsFactory:r,context:s,gos:n,resizeObserverService:a,rowModel:c}=(0,G.useContext)(ae),[o,u]=(0,G.useState)(()=>new pe),[l,m]=(0,G.useState)(()=>new pe),[d,w]=(0,G.useState)(),[v,i]=(0,G.useState)(),R=(0,G.useRef)(),p=(0,G.useRef)(null),h=(0,G.useRef)(),S=(0,G.useMemo)(()=>ye.ModuleRegistry.__getGridRegisteredModules(e.api.getGridId()),[e]),E=(0,G.useMemo)(()=>o.toString()+" ag-details-row",[o]),g=(0,G.useMemo)(()=>l.toString()+" ag-details-grid",[l]);t&&(0,G.useImperativeHandle)(t,()=>({refresh(){return R.current?.refresh()??!1}})),e.template&&(0,ye._warnOnce)("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const z=(0,G.useCallback)(U=>{if(p.current=U,!p.current){s.destroyBean(R.current),h.current&&h.current();return}const M={addOrRemoveCssClass:(C,k)=>u(F=>F.setClass(C,k)),addOrRemoveDetailGridCssClass:(C,k)=>m(F=>F.setClass(C,k)),setDetailGrid:C=>w(C),setRowData:C=>i(C),getGui:()=>p.current},y=r.getInstance("detailCellRenderer");if(y&&(s.createBean(y),y.init(M,e),R.current=y,n.get("detailRowAutoHeight"))){const C=()=>{if(p.current==null)return;const k=p.current.clientHeight;k!=null&&k>0&&setTimeout(()=>{e.node.setRowHeight(k),(c.getType()==="clientSide"||c.getType()==="serverSide")&&c.onRowHeightChanged()},0)};h.current=a.observeResize(p.current,C),C()}},[]),P=(0,G.useCallback)(U=>{R.current?.registerDetailWithMaster(U)},[]);return G.default.createElement("div",{className:E,ref:z},d&&G.default.createElement(Rt,{className:g,...d,modules:S,rowData:v,setGridApi:P}))}),yt=class extends ye.VanillaFrameworkOverrides{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:pt,agGroupRowRenderer:pt,agDetailCellRenderer:Vr},this.wrapIncoming=(e,t)=>t==="ensureVisible"?jt(e):e(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}shouldQueueUpdates(){return!1}getLockOnRefreshError(){return" This error can also occur if using 'ReactDOM.render' instead of 'createRoot'. If so, please upgrade to 'createRoot'."}},jr=class extends yt{constructor(e){super(),this.processQueuedUpdates=e,this.queueUpdates=!1}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}getLockOnRefreshError(){return""}},zr=class extends nt.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return nt.default.createElement(Rt,{...this.props,setGridApi:this.setGridApi})}};function Be(e){const{setMethods:t}=(0,Lt.useContext)(De);t(e)}function $r(e){Be(e)}function Jr(e){return Be(e)}function Kr(e){return Be(e)}function Qr(e){Be(e)}function Yr(e){Be(e)}if(typeof Re.exports=="object"&&typeof be=="object"){var Zr=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Object.getOwnPropertyNames(t))!Object.prototype.hasOwnProperty.call(e,n)&&n!==r&&Object.defineProperty(e,n,{get:()=>t[n],enumerable:!(s=Object.getOwnPropertyDescriptor(t,n))||s.enumerable});return e};Re.exports=Zr(Re.exports,be)}return Re.exports});
